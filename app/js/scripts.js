function checkForm(e){e.find(".should-be-checked").length==e.find(".should-be-checked.checked").length?e.find('button[type="submit"]').removeClass("disabled"):e.find('button[type="submit"]').addClass("disabled")}!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AirDatepicker=t():e.AirDatepicker=t()}(this,(function(){return function(){"use strict";var e={d:function(t,s){for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return K}});var s={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},i={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:s.days,minView:s.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?t.querySelector(e):e}function n(){let{tagName:e="div",className:t="",innerHtml:s="",id:i="",attrs:a={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=document.createElement(e);return t&&n.classList.add(...t.split(" ")),i&&(n.id=i),s&&(n.innerHTML=s),a&&r(n,a),n}function r(e,t){for(let[s,i]of Object.entries(t))void 0!==i&&e.setAttribute(s,i);return e}function o(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function h(e){let t=e.getHours(),s=t%12==0?12:t%12;return{year:e.getFullYear(),month:e.getMonth(),fullMonth:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,date:e.getDate(),fullDate:e.getDate()<10?"0"+e.getDate():e.getDate(),day:e.getDay(),hours:t,fullHours:l(t),hours12:s,fullHours12:l(s),minutes:e.getMinutes(),fullMinutes:e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()}}function l(e){return e<10?"0"+e:e}function c(e){let t=10*Math.floor(e.getFullYear()/10);return[t,t+9]}function d(){let e=[];for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return s.forEach((t=>{if("object"==typeof t)for(let s in t)t[s]&&e.push(s);else t&&e.push(t)})),e.join(" ")}function u(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.days;if(!e||!t)return!1;let a=h(e),n=h(t),r={[s.days]:a.date===n.date&&a.month===n.month&&a.year===n.year,[s.months]:a.month===n.month&&a.year===n.year,[s.years]:a.year===n.year};return r[i]}function p(e,t,s){let i=f(e,!1).getTime(),a=f(t,!1).getTime();return s?i>=a:i>a}function m(e,t){return!p(e,t,!0)}function f(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=new Date(e.getTime());return"boolean"!=typeof t||t||v(s),s}function v(e){return e.setHours(0,0,0,0),e}function g(e,t,s){e.length?e.forEach((e=>{e.addEventListener(t,s)})):e.addEventListener(t,s)}function y(e,t){return!(!e||e===document||e instanceof DocumentFragment)&&(e.matches(t)?e:y(e.parentNode,t))}function D(e,t,s){return e>s?s:e<t?t:e}function k(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];return s.filter((e=>e)).forEach((t=>{for(let[s,i]of Object.entries(t))if(void 0!==i&&"[object Object]"===i.toString()){let t=void 0!==e[s]?e[s].toString():void 0,a=i.toString(),n=Array.isArray(i)?[]:{};e[s]=e[s]?t!==a?n:e[s]:n,k(e[s],i)}else e[s]=i})),e}function $(e){let t=e;return e instanceof Date||(t=new Date(e)),isNaN(t.getTime())&&(console.log('Unable to convert value "'.concat(e,'" to Date object')),t=!1),t}function b(e){let t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+e+")($|<|"+t+")","g")}function w(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class C{constructor(){let{type:e,date:t,dp:s,opts:i,body:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w(this,"focus",(()=>{this.$cell.classList.add("-focus-"),this.focused=!0})),w(this,"removeFocus",(()=>{this.$cell.classList.remove("-focus-"),this.focused=!1})),w(this,"select",(()=>{this.$cell.classList.add("-selected-"),this.selected=!0})),w(this,"removeSelect",(()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1})),w(this,"onChangeSelectedDate",(()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())})),w(this,"onChangeFocusDate",(e=>{if(!e)return void(this.focused&&this.removeFocus());let t=u(e,this.date,this.type);t?this.focus():!t&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()})),w(this,"render",(()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell))),this.type=e,this.singleType=this.type.slice(0,-1),this.date=t,this.dp=s,this.opts=i,this.body=a,this.customData=!1,this.init()}init(){let{range:e,onRenderCell:t}=this.opts;t&&(this.customData=t({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),e&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(s.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(s.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(s.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(s.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var e;let{year:t,month:s,date:i}=h(this.date),a=(null===(e=this.customData)||void 0===e?void 0:e.attrs)||{};this.$cell=n({className:this._getClassName(),attrs:{"data-year":t,"data-month":s,"data-date":i,...a}})}_getClassName(){var e,t;let i=new Date,{selectOtherMonths:a,selectOtherYears:n}=this.opts,{minDate:r,maxDate:o}=this.dp,{day:l}=h(this.date),c=this._isOutOfMinMaxRange(),p=null===(e=this.customData)||void 0===e?void 0:e.disabled,m=d("air-datepicker-cell","-".concat(this.singleType,"-"),{"-current-":u(i,this.date,this.type),"-min-date-":r&&u(r,this.date,this.type),"-max-date-":o&&u(o,this.date,this.type)}),f="";switch(this.type){case s.days:f=d({"-weekend-":this.dp.isWeekend(l),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!a||c||p});break;case s.months:f=d({"-disabled-":c||p});break;case s.years:f=d({"-other-decade-":this.isOtherDecade,"-disabled-":c||this.isOtherDecade&&!n||p})}return d(m,f,null===(t=this.customData)||void 0===t?void 0:t.classes)}_getHtml(){var e;let{year:t,month:i,date:a}=h(this.date),{showOtherMonths:n,showOtherYears:r}=this.opts;if(null!==(e=this.customData)&&void 0!==e&&e.html)return this.customData.html;switch(this.type){case s.days:return!n&&this.isOtherMonth?"":a;case s.months:return this.dp.locale[this.opts.monthsField][i];case s.years:return!r&&this.isOtherDecade?"":t}}_isOutOfMinMaxRange(){let{minDate:e,maxDate:t}=this.dp,{type:i,date:a}=this,{month:n,year:r,date:o}=h(a),l=i===s.days,c=i===s.years,d=!!e&&new Date(r,c?e.getMonth():n,l?o:e.getDate()),u=!!t&&new Date(r,c?t.getMonth():n,l?o:t.getDate());return e&&t?m(d,e)||p(u,t):e?m(d,e):t?p(u,t):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:e,rangeDateTo:t}=this.dp,s=d({"-in-range-":e&&t&&(i=this.date,a=e,n=t,p(i,a)&&m(i,n)),"-range-from-":e&&u(this.date,e,this.type),"-range-to-":t&&u(this.date,t,this.type)});var i,a,n;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),s&&this.$cell.classList.add(...s.split(" "))}_handleSelectedStatus(){let e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){u(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function _(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let M={[s.days]:'<div class="air-datepicker-body--day-names"></div>'+'<div class="air-datepicker-body--cells -'.concat(s.days,'-"></div>'),[s.months]:'<div class="air-datepicker-body--cells -'.concat(s.months,'-"></div>'),[s.years]:'<div class="air-datepicker-body--cells -'.concat(s.years,'-"></div>')};const S=".air-datepicker-cell";class x{constructor(e){let{dp:t,type:i,opts:a}=e;_(this,"handleClick",(e=>{let t=e.target.closest(S).adpCell;if(t.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let s=this.dp._checkIfDateIsSelected(t.date,t.type);s?this.dp._handleAlreadySelectedDates(s,t.date):this.dp.selectDate(t.date)})),_(this,"handleDayNameClick",(e=>{let t=e.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(t),datepicker:this.dp})})),_(this,"onChangeCurrentView",(e=>{e!==this.type?this.hide():(this.show(),this.render())})),_(this,"onMouseOverCell",(e=>{let t=y(e.target,S);this.dp.setFocusDate(!!t&&t.adpCell.date)})),_(this,"onMouseOutCell",(()=>{this.dp.setFocusDate(!1)})),_(this,"onClickBody",(e=>{let{onClickDayName:t}=this.opts,s=e.target;s.closest(S)&&this.handleClick(e),t&&s.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(e)})),_(this,"onMouseDown",(e=>{this.pressed=!0;let t=y(e.target,S),s=t&&t.adpCell;u(s.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),u(s.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)})),_(this,"onMouseMove",(e=>{if(!this.pressed||!this.dp.isMinViewReached)return;e.preventDefault();let t=y(e.target,S),s=t&&t.adpCell,{selectedDates:i,rangeDateTo:a,rangeDateFrom:n}=this.dp;if(!s||s.isDisabled)return;let{date:r}=s;if(2===i.length){if(this.rangeFromFocused&&!p(r,a)){let{hours:e,minutes:t}=h(n);r.setHours(e),r.setMinutes(t),this.dp.rangeDateFrom=r,this.dp.replaceDate(n,r)}if(this.rangeToFocused&&!m(r,n)){let{hours:e,minutes:t}=h(a);r.setHours(e),r.setMinutes(t),this.dp.rangeDateTo=r,this.dp.replaceDate(a,r)}}})),_(this,"onMouseUp",(()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1})),_(this,"onChangeViewDate",((e,t)=>{if(!this.isVisible)return;let i=c(e),a=c(t);switch(this.dp.currentView){case s.days:if(u(e,t,s.months))return;break;case s.months:if(u(e,t,s.years))return;break;case s.years:if(i[0]===a[0]&&i[1]===a[1])return}this.render()})),_(this,"render",(()=>{this.destroyCells(),this._generateCells(),this.cells.forEach((e=>{this.$cells.appendChild(e.render())}))})),this.dp=t,this.type=i,this.opts=a,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===s.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:e,dynamicRange:t}=this.opts;g(this.$el,"mouseover",this.onMouseOverCell),g(this.$el,"mouseout",this.onMouseOutCell),g(this.$el,"click",this.onClickBody),e&&t&&(g(this.$el,"mousedown",this.onMouseDown),g(this.$el,"mousemove",this.onMouseMove),g(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(s.eventChangeViewDate,this.onChangeViewDate),this.dp.on(s.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=n({className:"air-datepicker-body -".concat(this.type,"-"),innerHtml:M[this.type]}),this.$names=a(".air-datepicker-body--day-names",this.$el),this.$cells=a(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dp.locale.firstDay,t="",i=this.dp.isWeekend,{onClickDayName:a}=this.opts,n=e,r=0;for(;r<7;){let e=n%7,o=d("air-datepicker-body--day-name",{[s.cssClassWeekend]:i(e),"-clickable-":!!a}),h=this.dp.locale.daysMin[e];t+='<div class="'.concat(o,"\" data-day-index='").concat(e,"'>").concat(h,"</div>"),r++,n++}return t}_getDaysCells(){let{viewDate:e,locale:{firstDay:t}}=this.dp,s=o(e),{year:i,month:a}=h(e),n=new Date(i,a,1),r=new Date(i,a,s),l=n.getDay()-t,c=6-r.getDay()+t;l=l<0?l+7:l,c=c>6?c-7:c;let d=function(e,t){let{year:s,month:i,date:a}=h(e);return new Date(s,i,a-t)}(n,l),u=s+l+c,p=d.getDate(),{year:m,month:f}=h(d),v=0;for(;v<u;){let e=new Date(m,f,p+v);this._generateCell(e),v++}}_generateCell(e){let{type:t,dp:s,opts:i}=this,a=new C({type:t,dp:s,opts:i,date:e,body:this});return this.cells.push(a),a}_generateDayCells(){this._getDaysCells()}_generateMonthCells(){let{year:e}=this.dp.parsedViewDate,t=0;for(;t<12;)this.cells.push(this._generateCell(new Date(e,t))),t++}_generateYearCells(){let e=c(this.dp.viewDate),t=e[0]-1,s=e[1]+1,i=t;for(;i<=s;)this.cells.push(this._generateCell(new Date(i,0))),i++}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCells(){switch(this.type){case s.days:this._generateDayCells();break;case s.months:this._generateMonthCells();break;case s.years:this._generateYearCells()}}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach((e=>e.destroy())),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(s.eventChangeViewDate,this.onChangeViewDate),this.dp.off(s.eventChangeCurrentView,this.onChangeCurrentView)}}function T(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class F{constructor(e){let{dp:t,opts:s}=e;T(this,"onClickNav",(e=>{let t=y(e.target,".air-datepicker-nav--action");if(!t)return;let s=t.dataset.action;this.dp[s]()})),T(this,"onChangeViewDate",(()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()})),T(this,"onChangeCurrentView",(()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()})),T(this,"onClickNavTitle",(()=>{this.dp.isFinalView||this.dp.up()})),T(this,"update",(()=>{let{prevHtml:e,nextHtml:t}=this.opts;this.$prev.innerHTML=e,this.$next.innerHTML=t,this._resetNavStatus(),this.render(),this.handleNavStatus()})),T(this,"renderDelay",(()=>{setTimeout(this.render)})),T(this,"render",(()=>{this.$title.innerHTML=this._getTitle(),function(e,t){for(let s in t)t[s]?e.classList.add(s):e.classList.remove(s)}(this.$title,{"-disabled-":this.dp.isFinalView})})),this.dp=t,this.opts=s,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=a(".air-datepicker-nav--title",this.$el),this.$prev=a('[data-action="prev"]',this.$el),this.$next=a('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(s.eventChangeViewDate,this.onChangeViewDate),this.dp.on(s.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(s.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(s.eventChangeTime,this.render))}destroy(){this.dp.off(s.eventChangeViewDate,this.onChangeViewDate),this.dp.off(s.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(s.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(s.eventChangeTime,this.render))}_createElement(){this.$el=n({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:e,opts:t}=this,s=t.navTitles[e.currentView];return"function"==typeof s?s(e):e.formatDate(e.viewDate,s)}handleNavStatus(){let{disableNavWhenOutOfRange:e}=this.opts,{minDate:t,maxDate:i}=this.dp;if(!t&&!i||!e)return;let{year:a,month:n}=this.dp.parsedViewDate,r=!!t&&h(t),o=!!i&&h(i);switch(this.dp.currentView){case s.days:t&&r.month>=n&&r.year>=a&&this._disableNav("prev"),i&&o.month<=n&&o.year<=a&&this._disableNav("next");break;case s.months:t&&r.year>=a&&this._disableNav("prev"),i&&o.year<=a&&this._disableNav("next");break;case s.years:{let e=c(this.dp.viewDate);t&&r.year>=e[0]&&this._disableNav("prev"),i&&o.year<=e[1]&&this._disableNav("next");break}}}_disableNav(e){a('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){!function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];e.length?e.forEach((e=>{e.classList.remove(...s)})):e.classList.remove(...s)}(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:e,nextHtml:t}=this.opts;this.$el.innerHTML='<div class="air-datepicker-nav--action" data-action="prev">'.concat(e,"</div>")+'<div class="air-datepicker-nav--title"></div>'+'<div class="air-datepicker-nav--action" data-action="next">'.concat(t,"</div>")}get isNavIsFunction(){let{navTitles:e}=this.opts;return Object.keys(e).find((t=>"function"==typeof e[t]))}}var V={today:{content:e=>e.locale.today,onClick:e=>e.setViewDate(new Date)},clear:{content:e=>e.locale.clear,onClick:e=>e.clear()}};class A{constructor(e){let{dp:t,opts:s}=e;this.dp=t,this.opts=s,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=n({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:e}=this.opts;Array.isArray(e)||(e=[e]),e.forEach((e=>{let t=e;"string"==typeof e&&V[e]&&(t=V[e]);let s=this.createButton(t);t.onClick&&this.attachEventToButton(s,t.onClick),this.$el.appendChild(s)}))}attachEventToButton(e,t){e.addEventListener("click",(()=>{t(this.dp)}))}createButton(e){let{content:t,className:s,tagName:i="button",attrs:a={}}=e,r="function"==typeof t?t(this.dp):t;return n({tagName:i,innerHtml:"<span tabindex='-1'>".concat(r,"</span>"),className:d("air-datepicker-button",s),attrs:a})}render(){this.generateButtons()}}function E(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class L{constructor(){let{opts:e,dp:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E(this,"toggleTimepickerIsActive",(e=>{this.dp.timepickerIsActive=e})),E(this,"onChangeSelectedDate",(e=>{let{date:t,updateTime:s=!1}=e;t&&(this.setMinMaxTime(t),this.setCurrentTime(!!s&&t),this.addTimeToDate(t))})),E(this,"onChangeLastSelectedDate",(e=>{e&&(this.setTime(e),this.render())})),E(this,"onChangeInputRange",(e=>{let t=e.target;this[t.getAttribute("name")]=t.value,this.updateText(),this.dp.trigger(s.eventChangeTime,{hours:this.hours,minutes:this.minutes})})),E(this,"onMouseEnterLeave",(e=>{let t=e.target.getAttribute("name"),s=this.$minutesText;"hours"===t&&(s=this.$hoursText),s.classList.toggle("-focus-")})),E(this,"onFocus",(()=>{this.toggleTimepickerIsActive(!0)})),E(this,"onBlur",(()=>{this.toggleTimepickerIsActive(!1)})),this.opts=e,this.dp=t;let{timeFormat:i}=this.dp.locale;i&&(i.match(b("h"))||i.match(b("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(s.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(s.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),g(this.$ranges,e,this.onChangeInputRange),g(this.$ranges,"mouseenter",this.onMouseEnterLeave),g(this.$ranges,"mouseleave",this.onMouseEnterLeave),g(this.$ranges,"focus",this.onFocus),g(this.$ranges,"mousedown",this.onFocus),g(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=n({className:d("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(s.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(s.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:e,hours:t,displayHours:s,minutes:i,minHours:a,minMinutes:n,maxHours:r,maxMinutes:o,dayPeriod:h,opts:{hoursStep:c,minutesStep:d}}=this;this.$el.innerHTML='<div class="air-datepicker-time--current">'+'   <span class="air-datepicker-time--current-hours">'.concat(l(s),"</span>")+'   <span class="air-datepicker-time--current-colon">:</span>'+'   <span class="air-datepicker-time--current-minutes">'.concat(l(i),"</span>")+"   ".concat(e?"<span class='air-datepicker-time--current-ampm'>".concat(h,"</span>"):"")+'</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">'+'      <input type="range" name="hours" value="'.concat(t,'" min="').concat(a,'" max="').concat(r,'" step="').concat(c,'"/>')+'   </div>   <div class="air-datepicker-time--row">'+'      <input type="range" name="minutes" value="'.concat(i,'" min="').concat(n,'" max="').concat(o,'" step="').concat(d,'"/>')+"   </div></div>"}defineDOM(){let e=e=>a(e,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}setTime(e){this.setMinMaxTime(e),this.setCurrentTime(e)}addTimeToDate(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}setMinMaxTime(e){if(this.setMinMaxTimeFromOptions(),e){let{minDate:t,maxDate:s}=this.dp;t&&u(e,t)&&this.setMinTimeFromMinDate(t),s&&u(e,s)&&this.setMaxTimeFromMaxDate(s)}}setCurrentTime(e){let{hours:t,minutes:s}=e?h(e):this;this.hours=D(t,this.minHours,this.maxHours),this.minutes=D(s,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:e,minMinutes:t,maxHours:s,maxMinutes:i}=this.opts;this.minHours=D(e,0,23),this.minMinutes=D(t,0,59),this.maxHours=D(s,0,23),this.maxMinutes=D(i,0,59)}setMinTimeFromMinDate(e){let{lastSelectedDate:t}=this.dp;this.minHours=e.getHours(),t&&t.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}setMaxTimeFromMaxDate(e){let{lastSelectedDate:t}=this.dp;this.maxHours=e.getHours(),t&&t.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}getDayPeriod(e,t){let s=e,i=Number(e);e instanceof Date&&(s=h(e),i=Number(s.hours));let a="am";if(t||this.ampm){switch(!0){case 12===i:case i>11:a="pm"}i=i%12==0?12:i%12}return{hours:i,dayPeriod:a}}updateSliders(){r(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,r(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=l(this.displayHours),this.$minutesText.innerHTML=l(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(e){this._hours=e;let{hours:t,dayPeriod:s}=this.getDayPeriod(e);this.displayHours=t,this.dayPeriod=s}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function I(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class O{constructor(e){let{dp:t,opts:s}=e;I(this,"pressedKeys",new Set),I(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],e=>e.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],e=>e.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],e=>e.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],e=>e.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],e=>e.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],e=>e.year-=10],[["Control","Shift","ArrowUp"],(e,t)=>t.up()]])),I(this,"handleHotKey",(e=>{let t=this.hotKeys.get(e),s=h(this.getInitialFocusDate());t(s,this.dp);let{year:i,month:a,date:n}=s,r=o(new Date(i,a));r<n&&(n=r);let l=this.dp.getClampedDate(new Date(i,a,n));this.dp.setFocusDate(l,{viewDateTransition:!0})})),I(this,"isHotKeyPressed",(()=>{let e=!1,t=this.pressedKeys.size,s=e=>this.pressedKeys.has(e);for(let[i]of this.hotKeys){if(e)break;if(Array.isArray(i[0]))i.forEach((a=>{e||t!==a.length||(e=a.every(s)&&i)}));else{if(t!==i.length)continue;e=i.every(s)&&i}}return e})),I(this,"isArrow",(e=>e>=37&&e<=40)),I(this,"onKeyDown",(e=>{let{key:t,which:s}=e,{dp:i,dp:{focusDate:a},opts:n}=this;this.registerKey(t);let r=this.isHotKeyPressed();if(r)return e.preventDefault(),void this.handleHotKey(r);if(this.isArrow(s))return e.preventDefault(),void this.focusNextCell(t);if("Enter"===t){if(i.currentView!==n.minView)return void i.down();if(a){let e=i._checkIfDateIsSelected(a);return void(e?i._handleAlreadySelectedDates(e,a):i.selectDate(a))}}"Escape"===t&&this.dp.hide()})),I(this,"onKeyUp",(e=>{this.removeKey(e.key)})),this.dp=t,this.opts=s,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:e}=this.dp;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:e}=this.dp;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:e,currentView:t,selectedDates:i,parsedViewDate:{year:a,month:n}}=this.dp,r=e||i[i.length-1];if(!r)switch(t){case s.days:r=new Date(a,n,(new Date).getDate());break;case s.months:r=new Date(a,n,1);break;case s.years:r=new Date(a,0,1)}return r}focusNextCell(e){let t=this.getInitialFocusDate(),{currentView:i}=this.dp,{days:a,months:n,years:r}=s,o=h(t),l=o.year,c=o.month,d=o.date;switch(e){case"ArrowLeft":i===a&&(d-=1),i===n&&(c-=1),i===r&&(l-=1);break;case"ArrowUp":i===a&&(d-=7),i===n&&(c-=3),i===r&&(l-=4);break;case"ArrowRight":i===a&&(d+=1),i===n&&(c+=1),i===r&&(l+=1);break;case"ArrowDown":i===a&&(d+=7),i===n&&(c+=3),i===r&&(l+=4)}let u=this.dp.getClampedDate(new Date(l,c,d));this.dp.setFocusDate(u,{viewDateTransition:!0})}registerKey(e){this.pressedKeys.add(e)}removeKey(e){this.pressedKeys.delete(e)}}let H={on(e,t){this.__events||(this.__events={}),this.__events[e]?this.__events[e].push(t):this.__events[e]=[t]},off(e,t){this.__events&&this.__events[e]&&(this.__events[e]=this.__events[e].filter((e=>e!==t)))},removeAllEvents(){this.__events={}},trigger(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];this.__events&&this.__events[e]&&this.__events[e].forEach((e=>{e(...s)}))}};function N(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let P="",j="",R="",B=!1;class K{constructor(e,t){var r=this;if(N(this,"viewIndexes",[s.days,s.months,s.years]),N(this,"next",(()=>{let{year:e,month:t}=this.parsedViewDate;switch(this.currentView){case s.days:this.setViewDate(new Date(e,t+1,1));break;case s.months:this.setViewDate(new Date(e+1,t,1));break;case s.years:this.setViewDate(new Date(e+10,0,1))}})),N(this,"prev",(()=>{let{year:e,month:t}=this.parsedViewDate;switch(this.currentView){case s.days:this.setViewDate(new Date(e,t-1,1));break;case s.months:this.setViewDate(new Date(e-1,t,1));break;case s.years:this.setViewDate(new Date(e-10,0,1))}})),N(this,"_finishHide",(()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)})),N(this,"setPosition",(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"==typeof(e=e||r.opts.position))return void(r.customHide=e({$datepicker:r.$datepicker,$target:r.$el,$pointer:r.$pointer,isViewChange:t,done:r._finishHide}));let s,i,{isMobile:a}=r.opts,n=r.$el.getBoundingClientRect(),o=r.$el.getBoundingClientRect(),h=r.$datepicker.offsetParent,l=r.$el.offsetParent,c=r.$datepicker.getBoundingClientRect(),d=e.split(" "),u=window.scrollY,p=window.scrollX,m=r.opts.offset,f=d[0],v=d[1];if(a)r.$datepicker.style.cssText="left: 50%; top: 50%";else{if(h===l&&h!==document.body&&(o={top:r.$el.offsetTop,left:r.$el.offsetLeft,width:n.width,height:r.$el.offsetHeight},u=0,p=0),h!==l&&h!==document.body){let e=h.getBoundingClientRect();o={top:n.top-e.top,left:n.left-e.left,width:n.width,height:n.height},u=0,p=0}switch(f){case"top":s=o.top-c.height-m;break;case"right":i=o.left+o.width+m;break;case"bottom":s=o.top+o.height+m;break;case"left":i=o.left-c.width-m}switch(v){case"top":s=o.top;break;case"right":i=o.left+o.width-c.width;break;case"bottom":s=o.top+o.height-c.height;break;case"left":i=o.left;break;case"center":/left|right/.test(f)?s=o.top+o.height/2-c.height/2:i=o.left+o.width/2-c.width/2}r.$datepicker.style.cssText="left: ".concat(i+p,"px; top: ").concat(s+u,"px")}})),N(this,"_setInputValue",(()=>{let{opts:e,$altField:t,locale:{dateFormat:s}}=this,{altFieldDateFormat:i,altField:a}=e;a&&t&&(t.value=this._getInputValue(i)),this.$el.value=this._getInputValue(s)})),N(this,"_getInputValue",(e=>{let{selectedDates:t,opts:s}=this,{multipleDates:i,multipleDatesSeparator:a}=s;if(!t.length)return"";let n="function"==typeof e,r=n?e(i?t:t[0]):t.map((t=>this.formatDate(t,e)));return r=n?r:r.join(a),r})),N(this,"_checkIfDateIsSelected",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.days,i=!1;return r.selectedDates.some((s=>{let a=u(e,s,t);return i=a&&s,a})),i})),N(this,"_scheduleCallAfterTransition",(e=>{this._cancelScheduledCall(),e&&e(!1),this._onTransitionEnd=()=>{e&&e(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})})),N(this,"_cancelScheduledCall",(()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)})),N(this,"setViewDate",(e=>{if(!((e=$(e))instanceof Date))return;if(u(e,this.viewDate))return;let t=this.viewDate;this.viewDate=e;let{onChangeViewDate:i}=this.opts;if(i){let{month:e,year:t}=this.parsedViewDate;i({month:e,year:t,decade:this.curDecade})}this.trigger(s.eventChangeViewDate,e,t)})),N(this,"setFocusDate",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!e||(e=$(e))instanceof Date)&&(r.focusDate=e,r.opts.range&&e&&r._handleRangeOnFocus(),r.trigger(s.eventChangeFocusDate,e,t))})),N(this,"setCurrentView",(e=>{if(this.viewIndexes.includes(e)){if(this.currentView=e,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(s.eventChangeCurrentView,e),!this.views[e]){let t=this.views[e]=new x({dp:this,opts:this.opts,type:e});this.shouldUpdateDOM&&this.$content.appendChild(t.$el)}this.opts.onChangeView&&this.opts.onChangeView(e)}})),N(this,"_updateLastSelectedDate",(e=>{this.lastSelectedDate=e,this.trigger(s.eventChangeLastSelectedDate,e)})),N(this,"destroy",(()=>{let{showEvent:e,isMobile:t}=this.opts,s=this.$datepicker.parentNode;s&&s.removeChild(this.$datepicker),this.$el.removeEventListener(e,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),t&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null})),N(this,"update",(e=>{let t=k({},this.opts);k(this.opts,e);let{timepicker:i,buttons:a,range:n,selectedDates:r,isMobile:o}=this.opts,h=this.visible||this.treatAsInline;this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this._handleLocale(),!t.selectedDates&&r&&this.selectDate(r),e.view&&this.setCurrentView(e.view),this._setInputValue(),t.range&&!n?(this.rangeDateTo=!1,this.rangeDateFrom=!1):!t.range&&n&&this.selectedDates.length&&(this.rangeDateFrom=this.selectedDates[0],this.rangeDateTo=this.selectedDates[1]),t.timepicker&&!i?(h&&this.timepicker.destroy(),this.timepicker=!1,this.$timepicker.parentNode.removeChild(this.$timepicker)):!t.timepicker&&i&&this._addTimepicker(),!t.buttons&&a?this._addButtons():t.buttons&&!a?(this.buttons.destroy(),this.$buttons.parentNode.removeChild(this.$buttons)):h&&t.buttons&&a&&this.buttons.clearHtml().render(),!t.isMobile&&o?(this.treatAsInline||R||this._createMobileOverlay(),this._addMobileAttributes(),this.visible&&this._showMobileOverlay()):t.isMobile&&!o&&(this._removeMobileAttributes(),this.visible&&(R.classList.remove("-active-"),"function"!=typeof this.opts.position&&this.setPosition())),h&&(this.nav.update(),this.views[this.currentView].render(),this.currentView===s.days&&this.views[this.currentView].renderDayNames())})),N(this,"isOtherMonth",(e=>{let{month:t}=h(e);return t!==this.parsedViewDate.month})),N(this,"isOtherYear",(e=>{let{year:t}=h(e);return t!==this.parsedViewDate.year})),N(this,"isOtherDecade",(e=>{let{year:t}=h(e),[s,i]=c(this.viewDate);return t<s||t>i})),N(this,"_onChangeSelectedDate",(e=>{let{silent:t}=e;setTimeout((()=>{this._setInputValue(),this.opts.onSelect&&!t&&this._triggerOnSelect()}))})),N(this,"_onChangeFocusedDate",(function(e){let{viewDateTransition:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let s=!1;t&&(s=r.isOtherMonth(e)||r.isOtherYear(e)||r.isOtherDecade(e)),s&&r.setViewDate(e)})),N(this,"_onChangeTime",(e=>{let{hours:t,minutes:s}=e,i=new Date,{lastSelectedDate:a,opts:{onSelect:n}}=this,r=a;a||(r=i);let o=this.getCell(r,this.currentViewSingular),h=o&&o.adpCell;h&&h.isDisabled||(r.setHours(t),r.setMinutes(s),a?(this._setInputValue(),n&&this._triggerOnSelect()):this.selectDate(r))})),N(this,"_onFocus",(e=>{this.visible||this.show()})),N(this,"_onBlur",(e=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()})),N(this,"_onMouseDown",(e=>{this.inFocus=!0})),N(this,"_onMouseUp",(e=>{this.inFocus=!1,this.$el.focus()})),N(this,"_onResize",(()=>{this.visible&&"function"!=typeof this.opts.position&&this.setPosition()})),N(this,"_onClickOverlay",(()=>{this.visible&&this.hide()})),N(this,"isWeekend",(e=>this.opts.weekends.includes(e))),N(this,"getClampedDate",(e=>{let{minDate:t,maxDate:s}=this,i=e;return s&&p(e,s)?i=s:t&&m(e,t)&&(i=t),i})),this.$el=a(e),!this.$el)return;this.$datepicker=n({className:"air-datepicker"}),this.opts=k({},i,t),this.$customContainer=!!this.opts.container&&a(this.opts.container),this.$altField=a(this.opts.altField||!1),P||(P=a("body"));let{view:o,startDate:l}=this.opts;l||(this.opts.startDate=new Date),"INPUT"===this.$el.nodeName&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=$(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=o,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:e,treatAsInline:t,opts:{inline:s,isMobile:i,selectedDates:a,keyboardNav:r,onlyTimepicker:o}}=this;var h;B||s||!this.elIsInput||(B=!0,j=n({className:h=K.defaultContainerId,id:h}),P.appendChild(j)),!i||R||t||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(s||this._bindEvents(),r&&!o&&(this.keyboardNav=new O({dp:this,opts:e}))),a&&this.selectDate(a,{silent:!0}),this.opts.visible&&!t&&this.show(),i&&!t&&this.$el.setAttribute("readonly",!0),t&&this._createComponents()}_createMobileOverlay(){R=n({className:"air-datepicker-overlay"}),j.appendChild(R)}_createComponents(){let{opts:e,treatAsInline:t,opts:{inline:s,buttons:i,timepicker:a,position:n,classes:r,onlyTimepicker:o,isMobile:h}}=this;this._buildBaseHtml(),this.elIsInput&&(s||this._setPositionClasses(n)),!s&&this.elIsInput||this.$datepicker.classList.add("-inline-"),r&&this.$datepicker.classList.add(...r.split(" ")),o&&this.$datepicker.classList.add("-only-timepicker-"),h&&!t&&this._addMobileAttributes(),this.views[this.currentView]=new x({dp:this,type:this.currentView,opts:e}),this.nav=new F({dp:this,opts:e}),a&&this._addTimepicker(),i&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){R.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){R.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||""===this.initialReadonly||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:e,maxDate:t}=this.opts;this.minDate=!!e&&$(e),this.maxDate=!!t&&$(t)}_addTimepicker(){this.$timepicker=n({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new L({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=n({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new A({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(s.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(s.eventChangeFocusDate,this._onChangeFocusedDate),this.on(s.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:e}=this.opts;var t,s;this.elIsInput?e?(t=this.$datepicker,(s=this.$el).parentNode.insertBefore(t,s.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=a(".air-datepicker--content",this.$datepicker),this.$pointer=a(".air-datepicker--pointer",this.$datepicker),this.$nav=a(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:e,dateFormat:t,firstDay:s,timepicker:i,onlyTimepicker:a,timeFormat:n,dateTimeSeparator:r}=this.opts;var o;this.locale=(o=e,JSON.parse(JSON.stringify(o))),t&&(this.locale.dateFormat=t),void 0!==n&&""!==n&&(this.locale.timeFormat=n);let{timeFormat:h}=this.locale;if(""!==s&&(this.locale.firstDay=s),i&&"function"!=typeof t){let e=h?r:"";this.locale.dateFormat=[this.locale.dateFormat,h||""].join(e)}a&&"function"!=typeof t&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(e){if("function"==typeof e)return void this.$datepicker.classList.add("-custom-position-");let t=(e=e.split(" "))[0],s=e[1],i="air-datepicker -".concat(t,"-").concat(s,"- -from-").concat(t,"-");this.$datepicker.classList.add(...i.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:e,minDate:t,maxDate:s}=this;s&&p(e,s)&&this.setViewDate(s),t&&m(e,t)&&this.setViewDate(t)}formatDate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewDate,t=arguments.length>1?arguments[1]:void 0;if(e=$(e),!(e instanceof Date))return;let s=t,i=this.locale,a=h(e),n=c(e),r=K.replacer,o="am";this.opts.timepicker&&this.timepicker&&(o=this.timepicker.getDayPeriod(e).dayPeriod);let l={T:e.getTime(),m:a.minutes,mm:a.fullMinutes,h:a.hours12,hh:a.fullHours12,H:a.hours,HH:a.fullHours,aa:o,AA:o.toUpperCase(),E:i.daysShort[a.day],EEEE:i.days[a.day],d:a.date,dd:a.fullDate,M:a.month+1,MM:a.fullMonth,MMM:i.monthsShort[a.month],MMMM:i.months[a.month],yy:a.year.toString().slice(-2),yyyy:a.year,yyyy1:n[0],yyyy2:n[1]};for(let[e,t]of Object.entries(l))s=r(s,b(e),t);return s}down(e){this._handleUpDownActions(e,"down")}up(e){this._handleUpDownActions(e,"up")}selectDate(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{currentView:a,parsedViewDate:n,selectedDates:r}=this,{updateTime:o}=i,{moveToOtherMonthsOnSelect:h,moveToOtherYearsOnSelect:l,multipleDates:c,range:d,autoClose:u}=this.opts,m=r.length;if(Array.isArray(e))return e.forEach((e=>{this.selectDate(e,i)})),new Promise((e=>{setTimeout(e)}));if((e=$(e))instanceof Date){if(a===s.days&&e.getMonth()!==n.month&&h&&(t=new Date(e.getFullYear(),e.getMonth(),1)),a===s.years&&e.getFullYear()!==n.year&&l&&(t=new Date(e.getFullYear(),0,1)),t&&this.setViewDate(t),c&&!d){if(m===c)return;this._checkIfDateIsSelected(e)||r.push(e)}else if(d)switch(m){case 1:r.push(e),this.rangeDateTo||(this.rangeDateTo=e),p(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(s.eventChangeSelectedDate,{action:s.actionSelectDate,silent:null==i?void 0:i.silent,date:e,updateTime:o}),this._updateLastSelectedDate(e),u&&!this.timepickerIsActive&&this.visible&&(c||d?d&&1===m&&this.hide():this.hide()),new Promise((e=>{setTimeout(e)}))}}unselectDate(e){let t=this.selectedDates,i=this;if((e=$(e))instanceof Date)return t.some(((a,n)=>{if(u(a,e))return t.splice(n,1),i.selectedDates.length?i._updateLastSelectedDate(i.selectedDates[i.selectedDates.length-1]):(i.rangeDateFrom="",i.rangeDateTo="",i._updateLastSelectedDate(!1)),this.trigger(s.eventChangeSelectedDate,{action:s.actionUnselectDate,date:e}),!0}))}replaceDate(e,t){let i=this.selectedDates.find((t=>u(t,e,this.currentView))),a=this.selectedDates.indexOf(i);a<0||u(this.selectedDates[a],t,this.currentView)||(this.selectedDates[a]=t,this.trigger(s.eventChangeSelectedDate,{action:s.actionSelectDate,date:t,updateTime:!0}),this._updateLastSelectedDate(t))}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.trigger(s.eventChangeSelectedDate,{action:s.actionUnselectDate,silent:e.silent}),new Promise((e=>{setTimeout(e)}))}show(){let{onShow:e,isMobile:t}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,e&&this._scheduleCallAfterTransition(e),t&&this._showMobileOverlay()}hide(){let{onHide:e,isMobile:t}=this.opts,s=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition((t=>{!this.customHide&&(t&&s||!t&&!s)&&this._finishHide(),e&&e(t)})),t&&R.classList.remove("-active-")}_triggerOnSelect(){let e=[],t=[],{selectedDates:s,locale:i,opts:{onSelect:a,multipleDates:n,range:r}}=this,o=n||r,h="function"==typeof i.dateFormat;s.length&&(e=s.map(f),t=h?n?i.dateFormat(e):e.map((e=>i.dateFormat(e))):e.map((e=>this.formatDate(e,i.dateFormat)))),a({date:o?e:e[0],formattedDate:o?t:t[0],datepicker:this})}_handleAlreadySelectedDates(e,t){let{range:s,toggleSelected:i}=this.opts;s?i?this.unselectDate(t):2!==this.selectedDates.length&&this.selectDate(t):i&&this.unselectDate(t),i||this._updateLastSelectedDate(e)}_handleUpDownActions(e,t){if(!((e=$(e||this.focusDate||this.viewDate))instanceof Date))return;let s="up"===t?this.viewIndex+1:this.viewIndex-1;s>2&&(s=2),s<0&&(s=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[s])}_handleRangeOnFocus(){1===this.selectedDates.length&&(p(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.day;if(!((e=$(e))instanceof Date))return;let{year:i,month:a,date:n}=h(e),r='[data-year="'.concat(i,'"]'),o='[data-month="'.concat(a,'"]'),l='[data-date="'.concat(n,'"]'),c={[s.day]:"".concat(r).concat(o).concat(l),[s.month]:"".concat(r).concat(o),[s.year]:"".concat(r)};return this.views[this.currentView].$el.querySelector(c[t])}_showMobileOverlay(){R.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce(((e,t)=>parseFloat(t)+e),0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return h(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return c(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===s.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===s.days}get $container(){return this.$customContainer||j}static replacer(e,t,s){return e.replace(t,(function(e,t,i,a){return t+s+a}))}}var U;return N(K,"defaults",i),N(K,"version","3.3.0"),N(K,"defaultContainerId","air-datepicker-global-container"),U=K.prototype,Object.assign(U,H),t.default}()})),function(e,t,s){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=e(require("jquery")):e(t||s)}((function(e){"use strict";var t=function(t,s,i){var a={invalid:[],getCaret:function(){try{var e,s=0,i=t.get(0),n=document.selection,r=i.selectionStart;return n&&-1===navigator.appVersion.indexOf("MSIE 10")?((e=n.createRange()).moveStart("character",-a.val().length),s=e.text.length):(r||"0"===r)&&(s=r),s}catch(e){}},setCaret:function(e){try{if(t.is(":focus")){var s,i=t.get(0);i.setSelectionRange?i.setSelectionRange(e,e):((s=i.createTextRange()).collapse(!0),s.moveEnd("character",e),s.moveStart("character",e),s.select())}}catch(e){}},events:function(){t.on("keydown.mask",(function(e){t.data("mask-keycode",e.keyCode||e.which),t.data("mask-previus-value",t.val()),t.data("mask-previus-caret-pos",a.getCaret()),a.maskDigitPosMapOld=a.maskDigitPosMap})).on(e.jMaskGlobals.useInput?"input.mask":"keyup.mask",a.behaviour).on("paste.mask drop.mask",(function(){setTimeout((function(){t.keydown().keyup()}),100)})).on("change.mask",(function(){t.data("changed",!0)})).on("blur.mask",(function(){o===a.val()||t.data("changed")||t.trigger("change"),t.data("changed",!1)})).on("blur.mask",(function(){o=a.val()})).on("focus.mask",(function(t){!0===i.selectOnFocus&&e(t.target).select()})).on("focusout.mask",(function(){i.clearIfNotMatch&&!n.test(a.val())&&a.val("")}))},getRegexMask:function(){for(var e,t,i,a,n,o,h=[],l=0;l<s.length;l++)(e=r.translation[s.charAt(l)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=e.optional,(a=e.recursive)?(h.push(s.charAt(l)),n={digit:s.charAt(l),pattern:t}):h.push(i||a?t+"?":t)):h.push(s.charAt(l).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=h.join(""),n&&(o=o.replace(new RegExp("("+n.digit+"(.*"+n.digit+")?)"),"($1)?").replace(new RegExp(n.digit,"g"),n.pattern)),new RegExp(o)},destroyEvents:function(){t.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(e){var s,i=t.is("input"),a=i?"val":"text";return arguments.length>0?(t[a]()!==e&&t[a](e),s=t):s=t[a](),s},calculateCaretPosition:function(e){var s=a.getMasked(),i=a.getCaret();if(e!==s){var n=t.data("mask-previus-caret-pos")||0,r=s.length,o=e.length,h=0,l=0,c=0,d=0,u=0;for(u=i;u<r&&a.maskDigitPosMap[u];u++)l++;for(u=i-1;u>=0&&a.maskDigitPosMap[u];u--)h++;for(u=i-1;u>=0;u--)a.maskDigitPosMap[u]&&c++;for(u=n-1;u>=0;u--)a.maskDigitPosMapOld[u]&&d++;if(i>o)i=10*r;else if(n>=i&&n!==o){if(!a.maskDigitPosMapOld[i]){var p=i;i-=d-c,i-=h,a.maskDigitPosMap[i]&&(i=p)}}else i>n&&(i+=c-d,i+=l)}return i},behaviour:function(s){s=s||window.event,a.invalid=[];var i=t.data("mask-keycode");if(-1===e.inArray(i,r.byPassKeys)){var n=a.getMasked(),o=a.getCaret(),h=t.data("mask-previus-value")||"";return setTimeout((function(){a.setCaret(a.calculateCaretPosition(h))}),e.jMaskGlobals.keyStrokeCompensation),a.val(n),a.setCaret(o),a.callbacks(s)}},getMasked:function(e,t){var n,o,h,l=[],c=void 0===t?a.val():t+"",d=0,u=s.length,p=0,m=c.length,f=1,v="push",g=-1,y=0,D=[];for(i.reverse?(v="unshift",f=-1,n=0,d=u-1,p=m-1,o=function(){return d>-1&&p>-1}):(n=u-1,o=function(){return d<u&&p<m});o();){var k=s.charAt(d),$=c.charAt(p),b=r.translation[k];b?($.match(b.pattern)?(l[v]($),b.recursive&&(-1===g?g=d:d===n&&d!==g&&(d=g-f),n===g&&(d-=f)),d+=f):$===h?(y--,h=void 0):b.optional?(d+=f,p-=f):b.fallback?(l[v](b.fallback),d+=f,p-=f):a.invalid.push({p:p,v:$,e:b.pattern}),p+=f):(e||l[v](k),$===k?(D.push(p),p+=f):(h=k,D.push(p+y),y++),d+=f)}var w=s.charAt(n);u!==m+1||r.translation[w]||l.push(w);var C=l.join("");return a.mapMaskdigitPositions(C,D,m),C},mapMaskdigitPositions:function(e,t,s){var n=i.reverse?e.length-s:0;a.maskDigitPosMap={};for(var r=0;r<t.length;r++)a.maskDigitPosMap[t[r]+n]=1},callbacks:function(e){var n=a.val(),r=n!==o,h=[n,e,t,i],l=function(e,t,s){"function"==typeof i[e]&&t&&i[e].apply(this,s)};l("onChange",!0===r,h),l("onKeyPress",!0===r,h),l("onComplete",n.length===s.length,h),l("onInvalid",a.invalid.length>0,[n,e,t,a.invalid,i])}};t=e(t);var n,r=this,o=a.val();s="function"==typeof s?s(a.val(),void 0,t,i):s,r.mask=s,r.options=i,r.remove=function(){var e=a.getCaret();return r.options.placeholder&&t.removeAttr("placeholder"),t.data("mask-maxlength")&&t.removeAttr("maxlength"),a.destroyEvents(),a.val(r.getCleanVal()),a.setCaret(e),t},r.getCleanVal=function(){return a.getMasked(!0)},r.getMaskedVal=function(e){return a.getMasked(!1,e)},r.init=function(o){if(o=o||!1,i=i||{},r.clearIfNotMatch=e.jMaskGlobals.clearIfNotMatch,r.byPassKeys=e.jMaskGlobals.byPassKeys,r.translation=e.extend({},e.jMaskGlobals.translation,i.translation),r=e.extend(!0,{},r,i),n=a.getRegexMask(),o)a.events(),a.val(a.getMasked());else{i.placeholder&&t.attr("placeholder",i.placeholder),t.data("mask")&&t.attr("autocomplete","off");for(var h=0,l=!0;h<s.length;h++){var c=r.translation[s.charAt(h)];if(c&&c.recursive){l=!1;break}}l&&t.attr("maxlength",s.length).data("mask-maxlength",!0),a.destroyEvents(),a.events();var d=a.getCaret();a.val(a.getMasked()),a.setCaret(d)}},r.init(!t.is("input"))};e.maskWatchers={};var s=function(){var s=e(this),a={},n="data-mask-",r=s.attr("data-mask");if(s.attr(n+"reverse")&&(a.reverse=!0),s.attr(n+"clearifnotmatch")&&(a.clearIfNotMatch=!0),"true"===s.attr(n+"selectonfocus")&&(a.selectOnFocus=!0),i(s,r,a))return s.data("mask",new t(this,r,a))},i=function(t,s,i){i=i||{};var a=e(t).data("mask"),n=JSON.stringify,r=e(t).val()||e(t).text();try{return"function"==typeof s&&(s=s(r)),"object"!=typeof a||n(a.options)!==n(i)||a.mask!==s}catch(e){}};e.fn.mask=function(s,a){a=a||{};var n=this.selector,r=e.jMaskGlobals,o=r.watchInterval,h=a.watchInputs||r.watchInputs,l=function(){if(i(this,s,a))return e(this).data("mask",new t(this,s,a))};return e(this).each(l),n&&""!==n&&h&&(clearInterval(e.maskWatchers[n]),e.maskWatchers[n]=setInterval((function(){e(document).find(n).each(l)}),o)),this},e.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},e.fn.unmask=function(){return clearInterval(e.maskWatchers[this.selector]),delete e.maskWatchers[this.selector],this.each((function(){var t=e(this).data("mask");t&&t.remove().removeData("mask")}))},e.fn.cleanVal=function(){return this.data("mask").getCleanVal()},e.applyDataMask=function(t){((t=t||e.jMaskGlobals.maskElements)instanceof e?t:e(t)).filter(e.jMaskGlobals.dataMaskAttr).each(s)};var a,n,r,o={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&(a="input",r=document.createElement("div"),(n=(a="on"+a)in r)||(r.setAttribute(a,"return;"),n="function"==typeof r[a]),r=null,n),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};e.jMaskGlobals=e.jMaskGlobals||{},(o=e.jMaskGlobals=e.extend(!0,{},o,e.jMaskGlobals)).dataMask&&e.applyDataMask(),setInterval((function(){e.jMaskGlobals.watchDataMask&&e.applyDataMask()}),o.watchInterval)}),window.jQuery,window.Zepto),$(document).ready((function(){let e=$(".preloader"),t=$("img").length,s=100/t,i=0,a=0;if(t>0){$("html, body").css("overflow","hidden");for(let e=0;e<t;e++){let t=new Image;t.src=document.images[e].src,t.onload=n,t.onerror=n}function n(){i+=s,a++;let n=Math.round(i);$(".preloader__percent").text(`${n}%`),$(".preloader__filled").css("width",`${n}%`),(i>=100||a==t)&&(e.hide(),$("html, body").css("overflow",""))}}else e.hide();$(".tel").mask("(Z00) 000-00-00",{translation:{Z:{pattern:/[0-79]/}}});$(".car-number").mask("S 000 SS 000",{translation:{Z:{pattern:/[0-79]/},S:{pattern:/[А-Яа-я]/}},onKeyPress:function(e,t,s,i){s.val(s.val().toUpperCase())}}),$(".email").mask("A",{translation:{A:{pattern:/[\w@\-.+A-Za-z]/,recursive:!0}}}),$(".header__is-city").on("click",".yes",(function(){let e=$(".header__is-city .is-current").attr("data-city");document.cookie=`city=${e}`,$(".header__is-city").removeClass("open")})),$(".header__is-city").on("click",".no",(function(){$(".header__is-city").removeClass("open"),$(".header__city-list").addClass("open")})),$(".header__city-list").on("click","li",(function(){let e=$(this).text(),t=$(this).attr("data-city");document.cookie=`city=${t}`,$(".watch-city").text(e),$(".header__city-list").removeClass("open"),location.reload()})),$(".city__current").click((function(){$(".header__city-list").toggleClass("open")}));let r=(document.cookie.match(/^(?:.*;)?\s*city\s*=\s*([^;]+)(?:.*)?$/)||[,null])[1];null==r&&(r="kazan",$(".header__is-city").addClass("open")),null==(document.cookie.match(/^(?:.*;)?\s*cookies\s*=\s*([^;]+)(?:.*)?$/)||[,null])[1]&&$(".cookie-block").addClass("open"),$(".accept-cookies").click((function(){document.cookie="cookies=true",$(".cookie-block").removeClass("open")})),$("#get-city-data").attr("src",`cities/${r}.js`),$(".burger").on("click",(function(){$(".menu").addClass("active"),$(".header").addClass("header_menued"),$("html, body").css("overflow","hidden")})),$(".close").on("click",(function(){$(".menu").removeClass("active"),$(".header").removeClass("header_menued"),$("html, body").css("overflow","")})),$(".member-card").on("click",(function(){$(this).toggleClass("active"),window.innerWidth<768&&$(this).find(".member-card__links").slideToggle()}));$(".modal-search__close").on("click",(function(){$(this).siblings("input").val("")}));const o=new class{constructor(e,t,s,i){this.containerId=e,this.inputId=t,this.listId=s,this.options=i}create(e=""){const t=document.getElementById(this.listId),s=this.options.filter((t=>""===e||t.text.toUpperCase().includes(e.toUpperCase())));0===s.length?t.classList.remove("active"):t.classList.add("active"),t.innerHTML=s.map((e=>`<li id=${e.value} data-text="${e.text}">${e.text}<span>${e.type}</span></li>`)).join("")}addListeners(e){const t=document.getElementById(this.containerId),s=document.getElementById(this.inputId),i=document.getElementById(this.listId);t.addEventListener("click",(e=>{e.target.id===this.inputId?t.classList.toggle("active"):"datalist-icon"===e.target.id&&(t.classList.toggle("active"),s.focus())})),s.addEventListener("input",(function(i){t.classList.contains("active")||t.classList.add("active"),e.create(s.value)})),i.addEventListener("click",(function(e){"li"===e.target.nodeName.toLocaleLowerCase()&&(s.value=e.target.getAttribute("data-text"),t.classList.remove("active"))}))}}("form-modal-search","search-datalist-input","datalist-ul",dataSearch);function h(){$(".overlay").removeClass("active"),$(".modal").removeClass("active")}o.create(),o.addListeners(o),$(".header__search").on("click",(function(){$(".menu").removeClass("active"),$(".header").removeClass("header_menued"),$(".overlay").addClass("active"),$(".modal-search").addClass("active")})),$(".popup-close").on("click",(function(){$(".popup").removeClass("active")})),$(".entry__search-input").on("change input keyup",(function(){let e=$(this).val().toUpperCase();$(".entry__item").each((function(t,s){$(this).attr("data-address").toUpperCase().includes(e)?$(this).show():$(this).hide()}))})),$(".entry__item").on("click",(function(){$(".entry__search-input").val("");let e=$(this).attr("data-address");$(".entry__search-input").val(e).focus(),$(".entry__search").submit()})),$(".entry-step .close").on("click",(function(){$(this).parents(".entry-step").addClass("hide")})),$(".entry__page-back").on("click",(function(){let e=$(this).parents(".entry__page");e.addClass("hide"),e.prev().removeClass("hide")})),$("select").each((function(){let e=$(this);e.wrap('<div class="select"></div>'),numberOfOptions=e.children("option").length,e.after('<div class="select__selected pointer"></div>');let t=e.next("div.select__selected");t.text(e.children("option").eq(0).text());for(var s=$("<ul />",{class:"options"}).insertAfter(t),i=0;i<numberOfOptions;i++)$("<li />",{text:e.children("option").eq(i).text(),rel:e.children("option").eq(i).val()}).appendTo(s);var a=s.children("li");t.click((function(e){e.stopPropagation(),$("div.select__selected.active").each((function(){$(this).removeClass("active").next("ul.options").hide()})),$(this).toggleClass("active").next("ul.options").toggle()})),a.click((function(i){i.stopPropagation(),t.text($(this).text()).removeClass("active"),e.val($(this).attr("rel")),s.hide()})),$(document).click((function(){t.removeClass("active"),s.hide()}))})),$("#entry-storage").on("change",(function(){let e=$(".wheel-table");$(this).prop("checked")?e.show():e.hide()})),$(".table-input").on("change",(function(){let e=$(this).parents("tr");$(this).prop("checked")?e.addClass("active"):e.removeClass("active")})),$(".form-name").on("change input keyup",(function(){let e=$(this).parents(".form-row-name");$(this).val().length>1?e.addClass("checked").removeClass("alert"):e.addClass("alert").removeClass("checked"),checkForm($(this).parents("form"))})),$(".tel").on("change input keyup",(function(){let e=$(this).parents(".form-row-phone");15==$(this).val().length?e.addClass("checked").removeClass("alert"):e.addClass("alert").removeClass("checked"),checkForm($(this).parents("form"))})),$("#entry-time").on("click",(function(){$(this).siblings(".form-row-time__list").toggleClass("open")})),$(".form-row-time__list").on("change","input",(function(){$("#entry-time").val($(this).val()),$(".form-row-time__list").removeClass("open"),$(this).parents(".form-row-time").addClass("checked").removeClass("alert"),checkForm($(this).parents("form"))})),$(".entry__form").on("submit",(function(e){let t=$(this).find(".entry__submit");if(e.preventDefault(),t.hasClass("disabled"))$(this).find(".should-be-checked").each((function(){$(this).hasClass("checked")||$(this).addClass("alert")}));else{$(this).addClass("hide"),$(this).next().removeClass("hide");let e=$(".entry-address-data").val(),t=$("#entry-time").val();$(".entry-send-address").text(e),$(".entry-send-time").text(t)}})),$(".entry__thx-red").on("click",(function(){let e=$(this).parents(".entry__page");e.addClass("hide");let t=e.prev();t[0].reset(),t.find(".entry__submit").prop("disabled","disabled"),$(".entry__info").removeClass("hide")})),$(".add-car-form").on("submit",(function(e){$(this).find('button[type="submit"]').hasClass("disabled")&&(e.preventDefault(),$(this).find(".should-be-checked").each((function(){$(this).hasClass("checked")||$(this).addClass("alert")})))})),$(".form-car-model").on("change input keyup",(function(){let e=$(this).parents(".modal__form-row");$(this).val().length>1?e.addClass("checked").removeClass("alert"):e.addClass("alert").removeClass("checked"),checkForm($(this).parents("form"))})),$(".car-number").on("change input keyup",(function(){let e=$(this).parents(".should-be-checked");$(this).val().length>10?e.addClass("checked").removeClass("alert"):e.addClass("alert").removeClass("checked"),checkForm($(this).parents("form"))})),$(".add-car").on("click",(function(){$(".overlay").addClass("active"),$(".modal-add-car").addClass("active")})),$(".overlay__close").on("click",(function(){h()})),$(".change-password").on("click",(function(){$(this).toggleClass("hidden"),$(this).siblings(".change-password").toggleClass("hidden");let e=$(this).siblings(".input");"password"==e.attr("type")?e.attr("type","text"):e.attr("type","password")})),$(".modal-car-added__button").on("click",(function(){h()})),$(".modal__form").on("submit",(function(e){let t=$(this).find(".modal__form-button");e.preventDefault(),t.hasClass("disabled")?$(this).find(".should-be-checked").each((function(){$(this).hasClass("checked")||$(this).addClass("alert")})):($(".modal-add-car").removeClass("active"),$(".modal-car-added").addClass("active"))})),$(".entrance__form").on("submit",(function(e){let t=$(this).find('button[type="submit"]');e.preventDefault(),t.hasClass("disabled")?$(this).find(".should-be-checked").hasClass("checked")||$(this).find(".should-be-checked").addClass("alert"):($(this).find(".entrance__button-row").hide(),$(this).siblings(".entrance__code").show())})),$(".entrance__code").on("submit",(function(e){e.preventDefault(),window.location.href="entrance-person-thx.php"})),$(".add-car-form").on("submit",(function(e){$(this).find('button[type="submit"]').hasClass("disabled")&&(e.preventDefault(),$(this).find(".should-be-checked").each((function(){$(this).hasClass("checked")||$(this).addClass("alert")})))})),$(".card__faq-item").click((function(){$(this).toggleClass("open").find(".card__faq-answer").slideToggle()})),$(".card-question__form").on("submit",(function(e){e.preventDefault();let t=$(this).find(".card-question__submit"),s=$(this).find(".check-accept");t.hasClass("disabled")?$(this).find(".should-be-checked").each((function(){$(this).hasClass("checked")||$(this).addClass("alert")})):s.is(":checked")?window.location.href="card-question-send.php":s.siblings("label").css("color","#E30514")})),$(".toggle-filter").on("click",(function(){$(this).siblings(".actions__side-body").slideToggle()})),$(".actions__side").on("click",".reset",(function(){$(".actions__side").find("input").prop("checked",!1)})),$(".news__search-input").on("change input keyup",(function(){let e=$(this).val().toUpperCase();$(".news__item").each((function(t,s){$(this).attr("data-faq").toUpperCase().includes(e)?$(this).show():$(this).hide()}))})),$(".faq-ask__form").on("submit",(function(e){let t=$(this).find('button[type="submit"]');e.preventDefault(),t.hasClass("disabled")?$(this).find(".should-be-checked").each((function(){$(this).hasClass("checked")||$(this).addClass("alert")})):window.location.href="faq-thx.php"})),$(".useful__callback-form").on("submit",(function(e){e.preventDefault(),window.location.href="useful-thx.php"})),$(".text-page__side").on("click",".nav",(function(){$(this).toggleClass("open"),$(this).siblings(".sub").slideToggle()})),$(".text-page__open").on("click",(function(){$(this).toggleClass("open"),$(this).siblings(".text-page__list").toggleClass("open")}));let l=$(".career__join-form"),c=$(".resume__box");var d=!1;c.on("drag dragstart dragend dragover dragenter dragleave drop",(function(e){e.preventDefault(),e.stopPropagation()})).on("dragover dragenter",(function(){c.addClass("is-dragover")})).on("dragleave dragend drop",(function(){c.removeClass("is-dragover")})).on("drop",(function(e){d=e.originalEvent.dataTransfer.files,$(".resume__label").text(`Добавлено: ${d[0].name}`),c.addClass("dropped")})),$(".file").on("change",(function(e){""!=$(this).val()&&(d=$(this)[0].files,$(".resume__label").text(`Добавлено: ${d[0].name}`),c.addClass("dropped"))})),l.on("submit",(function(e){$(this).find(".career__join-submit").hasClass("disabled")?(e.preventDefault(),$(this).find(".should-be-checked").each((function(){$(this).hasClass("checked")||$(this).addClass("alert")}))):(joinData=l.serializeArray().map((e=>[e.name,e.value])),console.log(joinData))}));let u=$(".vacancy-form");$(".vacancies__side-showall").on("click",(function(){$(this).siblings(".vacancies__side-list").find(".checkbox-row").show(),$(this).hide()})),$(".vacancies-reset").on("click",(function(){$(this).parents("form")[0].reset()})),$(".fill-blank-open").on("click",(function(){u.addClass("open")})),$(".vacancy-form__close").on("click",(function(){u.removeClass("open")})),u.on("submit",(function(e){e.preventDefault(),$(this).find(".career__join-submit").hasClass("disabled")?$(this).find(".should-be-checked").each((function(){$(this).hasClass("checked")||$(this).addClass("alert")})):(joinData=u.serializeArray().map((e=>[e.name,e.value])),console.log(joinData),window.location.href="vacancy-thx.php")})),$(".corp-form__form").on("submit",(function(e){e.preventDefault(),$(this).find(".button").hasClass("disabled")?$(this).find(".should-be-checked").each((function(){$(this).hasClass("checked")||$(this).addClass("alert")})):window.location.href="corp-form-2.php"})),$(".corp-form__form-last").on("submit",(function(e){e.preventDefault(),$(this).find(".button-second").hasClass("disabled")?$(this).find(".should-be-checked").each((function(){$(this).hasClass("checked")||$(this).addClass("alert")})):window.location.href="corp-thx.php"})),$(".corp-form__form-support").on("submit",(function(e){e.preventDefault(),$(this).find(".button-support").hasClass("disabled")?$(this).find(".should-be-checked").each((function(){$(this).hasClass("checked")||$(this).addClass("alert")})):window.location.href="support-thx.php"}))})),$('a[href^="#"]').on("click",(function(){let e=$(this).attr("href");return $("html, body").animate({scrollTop:$(e).offset().top-20}),!1}));